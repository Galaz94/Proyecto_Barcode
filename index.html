<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Barcode Toolbox</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="images/icon-192x192.png"> <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#f7f7f7">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
</head>
<body>

<div class="floating-buttons">
    <button id="help-button" onclick="showHelp()" title="Ayuda">❓</button>
    <button id="theme-toggle" onclick="toggleTheme()" title="Cambiar Tema"> M </button> </div>

<div class="container">

    <h1>Barcode Toolbox</h1>

    <div id="search-container">
        <input type="text" id="search-input" placeholder="Ingresa código...">
        <button onclick="searchBarcode()">🔍</button>
    </div>

    <div id="info-message"></div>

    <textarea id="input" placeholder="Pega aquí tus códigos (separados por espacio, tabulador o salto de línea)..." aria-label="Entrada de códigos"></textarea>

    <div class="button-group">
        <button onclick="generateBarcodes()">🔄 Generar</button>
        <button onclick="clearInput()">🧹 Limpiar</button>
        <button onclick="changeLayout()">📊 Vista</button>
        <button id="savePdf" style="display:none;" onclick="downloadPDF()">📄 PDF</button>
        <button id="removeUsedBtn" onclick="removeUsedCodes()">❌ Eliminar Usados</button>
    </div>

    <div id="scanner-controls">
        <button id="startScanBtn" onclick="startScanner()">📷 Escanear</button>
        <button id="stopScanBtn" onclick="stopScanner()" style="display:none;">🛑 Detener</button>
    </div>
    <div id="scanner-container" style="display:none;">
        <div id="reader"></div>
    </div>

    <div id="output" class="list"></div>

    <footer>
      Barcode Toolbox - fgalaz <strong>v2026</strong>
    </footer>

</div>

<script src="js/script.js"></script>
<script>
  // Registrar Service Worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js');
    });
  }
</script>

</body>
</html>
